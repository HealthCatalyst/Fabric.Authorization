<div class="access-control-container">
  <h3 class="h3">
    <span>Name (as it appears in directory)</span>
  </h3>
  <div class="input-combo">
    <input hc-input class="hc-input" (keyup)="searchTextSubject.next($event.target.value)" [(ngModel)]="searchText" placeholder="search for user or group">
    <i [class]="searching ? 'fa fa-spinner fa-pulse fa-fw' : 'fa fa-search'"></i>
  </div>
  <table class="hc-table hc-table-borders scroll-table">
    <thead>
      <tr>
        <th></th>
        <th>User</th>
        <th>Type</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let principal of principals">
        <td>
          <hc-checkbox [id]="principal.subjectId + principal.principalType" [(ngModel)]="principal.selected" (change)="selectPrincipal(principal)">
          </hc-checkbox>
        </td>
        <td [innerText] = "principal.subjectId">
        </td>
        <td [innerText] = "principal.principalType">
        </td>
      </tr>
    </tbody>
  </table>
  <h3 class="h3">
    <span>Roles</span>
  </h3>
  <table class="hc-table hc-table-borders">
    <thead>
      <tr>
        <th></th>
        <th>Role Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let role of roles">
        <td>
          <hc-checkbox [id]="role.id" [(ngModel)]="role.selected" [disabled]="!this.selectedPrincipal">
          </hc-checkbox>
        </td>
        <td [innerText]="role.displayName"></td>
        <td [innerText]="role.description"></td>
      </tr>
    </tbody>
  </table>
  <div class="buttons">
    <button hc-button (click)="save()" class="btn-save" color="primary" [disabled]="!this.selectedPrincipal">Save</button>
    <a hc-button routerLink="/access-control" color="secondary">Cancel</a>
  </div>
</div>